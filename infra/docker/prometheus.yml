# Prometheus configuration for Turbo Engine local development.
# Scrapes the OTEL collector's Prometheus exporter endpoint.

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  scrape_timeout: 10s

scrape_configs:
  # OTEL Collector's Prometheus exporter (receives metrics from all services).
  - job_name: "otel-collector"
    static_configs:
      - targets: ["otel-collector:8889"]
        labels:
          source: "otel-collector"

  # OTEL Collector's own internal metrics.
  - job_name: "otel-collector-internal"
    static_configs:
      - targets: ["otel-collector:8888"]
        labels:
          source: "otel-collector-internal"

  # Prometheus self-monitoring.
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]
